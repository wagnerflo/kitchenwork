<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Kitchenwork: Backen, Kochen, Mixen!</title>

    <link
       rel="stylesheet"
       href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
       integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
       crossorigin="anonymous">
    <link
       rel="stylesheet"
       href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
       integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
       crossorigin="anonymous">
    <link
       rel="stylesheet"
       href="layout.css">
  </head>
  <body>

    <nav class="navbar navbar-default navbar-inverse navbar-fixed-top">
      <div class="container">

        <!-- Header -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed"
                  data-toggle="collapse" data-target="#navbar"
                  aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">
            <span class="glyphicon glyphicon-cutlery"></span>
          </a>
        </div>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbar"></div>

      </div>
    </nav>

    <div class="container" id="content"></div>

    <script
       src="http://code.jquery.com/jquery-3.1.1.min.js"
       integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
       crossorigin="anonymous"></script>
    <script
       src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
       integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
       crossorigin="anonymous"></script>
    <script
       src="http://cdn.jsdelivr.net/handlebarsjs/4.0.5/handlebars.min.js"
       integrity="sha384-iiBFRfCTHSXi/mHNU8P2fMrhLgng6gJgQOaeIgzgg6ZNUQUDSR9P6zCey743eHIE"
       crossorigin="anonymous"></script>

    <script id="tmpl-navbar-links" type="text/x-handlebars-template">
      <ul class="nav navbar-nav">
        {{#each navlinks}}
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
             role="button" aria-haspopup="true" aria-expanded="false">
            {{title}} <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            {{#each sections}}
            {{#if title}}
            <li class="dropdown-submenu">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                 role="button" aria-haspopup="true" aria-expanded="false">
                {{title}} <span class="rotate270 caret"></span>
              </a>
              <ul class="dropdown-menu">
            {{/if}}
                {{#each entries}}
                {{#if separator}}
                <li role="separator" class="divider"></li>
                {{else}}
                <li><a href="#{{../../folder}}/{{file}}">{{title}}</a></li>
                {{/if}}
                {{/each}}
            {{#if title}}
              </ul>
            </li>
            {{/if}}
            {{/each}}
          </ul>
        </li>
        {{/each}}
      </ul>
    </script>

    <script id="tmpl-content" type="text/x-handlebars-template">
      <div class="row">
        <h2 class="text-left">{{title}}</h2>
        {{{content}}}
      </div>
    </script>

    <script type="text/javascript" charset="utf-8">
      var navlinks = [
        {
          title: "Cocktails", folder: "cocktails", sections: [
            {
              title: "Aperol", entries: [
                { title: "Garden Party",         file: "garden-party" },
                { title: "Pretty in Pink",       file: "pretty-in-pink" },
                { title: "Sunflower",            file: "sunflower" }
              ]
            }, {
              title: "Brandy", entries: [
                { title: "Brandy Alexander",     file: "brandy-alexander" }
              ]
            }, {
              title: "Cachaça", entries: [
                { title: "Batida de Avocado",    file: "batida-de-avocado" },
                { title: "Gingergrass Mule",     file: "gingergrass-mule" },
              ]
            }, {
              title: "Cointreau", entries: [
                { title: "Sunkiss",              file: "sunkiss" }
              ]
            }, {
              title: "Gin", entries: [
                { title: "Garden Party",         file: "garden-party" },
                { title: "Lemon Gingerini",      file: "lemon-gingerini" },
                { title: "Pretty in Pink",       file: "pretty-in-pink" },
                { title: "Millionaire’s Mule",   file: "millionaires-mule" },
                { title: "NiuNaut",              file: "niunaut" },
                { title: "Sloe Gin Fizz",        file: "sloe-gin-fizz" },
                { title: "Winter Warmer",        file: "winter-warmer" }
              ]
            }, {
              title: "Rum", entries: [
                { title: "Hurricane",            file: "hurricane" },
                { title: "NiuNaut",              file: "niunaut" },
                { title: "Sunflower",            file: "sunflower" }
              ]
            }, {
              title: "Sparkling wine", entries: [
                { title: "Millionaire’s Mule",   file: "millionaires-mule" }
              ]
            }, {
              title: "Wodka", entries: [
                { title: "Wasabi Martini",       file: "wasabi-martini" }
              ]
            }, {
              title: "Other", entries: [
                { title: "Grasshopper",          file: "grasshopper" }
              ]
            }, {
              title: "Non-alcoholic", entries: [
                { title: "Cujamara",             file: "cujamara" },
                { title: "Gunner",               file: "gunner" }
              ]
            }
          ]
        }, {
          title: "Eingemachtes", folder: "eingemachtes", sections: [{ entries: [
            { title: "Feine Salsa",                   file: "feine-salsa" },
            { title: "Hummus",                        file: "hummus" },
            { separator: true },
            { title: "Apfel/Kiwi/Bananen-Marmelade",  file: "akiba-marmelade" },
            { title: "Apfel/Maracuja/Zimt-Marmelade", file: "amazi-marmelade" },
            { title: "Geröstete Rhabarber/Erdbeer-Marmelade",
              file: "geroestete-rhabarber-erdbeer" },
            { title: "Orangenmarmelade",              file: "orangen-marmelade" },
            { separator: true },
            { title: "Ingwersirup",                   file: "ingwersirup" },
            { title: "Kürbissirup",                   file: "kuerbissirup" },
          ] }]
        }, {
          title: "Gebäck", folder: "gebaeck", sections: [{ entries: [
            { title: "Theorie & Tipps", file: "theorie" },
            { separator: true },
            { title: "Ciabatta",                   file: "ciabatta" },
            { title: "Dinkelbaguettes",            file: "dinkelbaguettes" },
            { title: "Fladenbrot",                 file: "fladenbrot" },
            { title: "Knäckebrot",                 file: "knaeckebrot" },
            { title: "Präsidentenbaguettes",       file: "praesidentenbaguettes" },
            { title: "Weizen-Haferflocken-Brot",   file: "weizenhaferflockenbrot" },
            { separator: true },
            { title: "Cantucci morbidi toscani",   file: "cantucci" },
            { title: "Erdbeertorte",               file: "erdbeertorte" },
            { title: "Goldknödel",                 file: "goldknoedel" },
            { title: "Hefeteig für Blechkuchen",   file: "blechkuchen-hefeteig" },
            { title: "Muffins",                    file: "muffins" },
            { title: "Quittenkompottkuchen",       file: "quittenkompottkuchen" },
            { separator: true },
            { title: "Crêpe",                      file: "crepe" },
            { title: "Flammkuchen",                file: "flammkuchen" },
            { title: "Pancakes",                   file: "pancakes" },
            { title: "Pizza",                      file: "pizza" },
            { title: "Pfannkuchen",                file: "pfannkuchen" },
          ] }]
        }, {
          title: "Gerichte", folder: "gerichte", sections: [{ entries: [
            { title: "Bœuf Stroganoff",
              file: "boeuf-stroganoff" },
            { title: "Bolognese",
              file: "bolognese" },
            { title: "Lamm-Teriyaki mit Rosenkohl und Ingwer-Dip",
              file: "lamm-teriyaki-mit-rosenkohl" },
            { title: "Limetten/Ingwer Hühnchen",
              file: "limetten-ingwer-huehnchen" },
            { title: "Mediterraner Broccolisalat",
              file: "mediterraner-broccolisalat" },
            { title: "Murgh Saag",
              file: "murgh-saag" },
            { title: "Oyakodon",
              file: "oyakodon" },
            { title: "Scharf/fruchtiges Karottengemüse",
              file: "scharf-fruchtiges-karottengemuese" },
            { title: "Wirsing-Paprika Nudeln",
              file: "wirsing-paprika-nudeln" },
          ] }]
        }, {
          title: "Suppen", folder: "suppen", sections: [{ entries: [
            { title: "Broccolirahmsuppe",  file: "broccolirahm" },
            { title: "Gazpacho",           file: "gazpacho" },
            { title: "Lauchcremesuppe",    file: "lauchcreme" },
            { title: "Paprikacremesuppe",  file: "paprikacreme" },
            { title: "Scharfe Entensuppe", file: "scharfe-enten" },
          ] }]
        },
      ];

      var navbar = $("#navbar");
      var tmpl_navbar_links = Handlebars.compile($("#tmpl-navbar-links").html());
      var tmpl_content = Handlebars.compile($("#tmpl-content").html());

      navbar.append(tmpl_navbar_links({ navlinks: navlinks }));

      $(document).ready(function() {
        navbar.on("click", ".dropdown-menu a", function(evt) {
          navbar.collapse("hide");
        });

        $(window).on("hashchange", function(evt) {
          var path = location.hash.substr(1);
          if(!path)
            return;

          $.ajax({
            url: path + ".html",
            dataType: "html",
            success: function(data) {
              var items = path.split("/");

              $.each(navlinks, function(idx, heading) {
                if(items[0] != heading.folder)
                  return;
                $.each(heading.sections, function(idx, section) {
                  $.each(section.entries, function(idx, entry) {
                    if(items[1] != entry.file)
                      return;
                    $("#content").html(
                      tmpl_content({
                        heading: heading.title,
                        title: entry.title,
                        content: data,
                      })
                    );
                  });
                });
              });
            }
          });
        });

        $(window).trigger("hashchange");
      });
    </script>

  </body>
</html>
